# النماذج (Forms)

يحتوي النظام على مجموعة من النماذج التي تستخدم لإدخال البيانات وتعديلها. فيما يلي شرح تفصيلي لكل نموذج:

## نماذج المصادقة

### LoginForm

هذا النموذج يستخدم لتسجيل الدخول إلى النظام. يرث من `AuthenticationForm` في Django ويضيف تنسيقات وترجمات مخصصة.

### RegisterForm

هذا النموذج يستخدم لتسجيل حساب جديد في النظام. يرث من `UserCreationForm` في Django ويضيف حقول إضافية مثل البريد الإلكتروني.

## نماذج إدارة المستخدمين

### UserForm

هذا النموذج يستخدم لإنشاء وتعديل المستخدمين. يرث من `ModelForm` في Django ويستخدم نموذج `User`.

الحقول:
- username: اسم المستخدم
- email: البريد الإلكتروني
- password: كلمة المرور (اختياري عند التعديل)
- role: دور المستخدم
- is_active: ما إذا كان المستخدم نشطًا أم لا

## نماذج إدارة المستشفيات

### HospitalForm

هذا النموذج يستخدم لإنشاء وتعديل المستشفيات. يرث من `ModelForm` في Django ويستخدم نموذج `Hospital`.

الحقول:
- name: اسم المستشفى
- address: عنوان المستشفى
- contact_info: معلومات الاتصال بالمستشفى

## نماذج إدارة جهات العمل

### EmployerForm

هذا النموذج يستخدم لإنشاء وتعديل جهات العمل. يرث من `ModelForm` في Django ويستخدم نموذج `Employer`.

الحقول:
- name: اسم جهة العمل
- address: عنوان جهة العمل
- contact_info: معلومات الاتصال بجهة العمل

## نماذج إدارة الأطباء

### DoctorForm

هذا النموذج يستخدم لإنشاء وتعديل الأطباء. يرث من `ModelForm` في Django ويستخدم نموذج `Doctor`.

الحقول:
- national_id: رقم الهوية الوطنية للطبيب
- name: اسم الطبيب
- position: منصب الطبيب
- hospital: المستشفى الذي يعمل به الطبيب

## نماذج إدارة المرضى

### PatientForm

هذا النموذج يستخدم لإنشاء وتعديل المرضى. يرث من `ModelForm` في Django ويستخدم نموذج `Patient`.

الحقول:
- national_id: رقم الهوية الوطنية للمريض
- name: اسم المريض
- nationality: جنسية المريض
- employer: جهة العمل التي ينتمي إليها المريض

## نماذج إدارة العملاء

### ClientForm

هذا النموذج يستخدم لإنشاء وتعديل العملاء. يرث من `ModelForm` في Django ويستخدم نموذج `Client`.

الحقول:
- name: اسم العميل
- phone: رقم هاتف العميل
- email: البريد الإلكتروني للعميل
- address: عنوان العميل
- notes: ملاحظات حول العميل

## نماذج إدارة أسعار الإجازات

### LeavePriceForm

هذا النموذج يستخدم لإنشاء وتعديل أسعار الإجازات. يرث من `ModelForm` في Django ويستخدم نموذج `LeavePrice`.

الحقول:
- leave_type: نوع الإجازة
- duration_days: مدة الإجازة بالأيام
- price: سعر الإجازة
- is_active: ما إذا كان السعر نشطًا أم لا

## نماذج إدارة الإجازات المرضية

### SickLeaveForm

هذا النموذج يستخدم لإنشاء وتعديل الإجازات المرضية. يرث من `ModelForm` في Django ويستخدم نموذج `SickLeave`.

الحقول:
- leave_id: رقم الإجازة
- patient: المريض الذي يحصل على الإجازة
- doctor: الطبيب الذي أصدر الإجازة
- start_date: تاريخ بداية الإجازة
- end_date: تاريخ نهاية الإجازة
- admission_date: تاريخ دخول المريض إلى المستشفى
- discharge_date: تاريخ خروج المريض من المستشفى
- issue_date: تاريخ إصدار الإجازة
- status: حالة الإجازة

## نماذج إدارة إجازات المرافقين

### CompanionLeaveForm

هذا النموذج يستخدم لإنشاء وتعديل إجازات المرافقين. يرث من `ModelForm` في Django ويستخدم نموذج `CompanionLeave`.

الحقول:
- leave_id: رقم الإجازة
- patient: المريض الذي يحتاج إلى مرافق
- companion: المرافق للمريض
- doctor: الطبيب الذي أصدر الإجازة
- start_date: تاريخ بداية الإجازة
- end_date: تاريخ نهاية الإجازة
- admission_date: تاريخ دخول المريض إلى المستشفى
- discharge_date: تاريخ خروج المريض من المستشفى
- issue_date: تاريخ إصدار الإجازة
- status: حالة الإجازة

## نماذج إدارة فواتير الإجازات

### LeaveInvoiceForm

هذا النموذج يستخدم لإنشاء وتعديل فواتير الإجازات. يرث من `ModelForm` في Django ويستخدم نموذج `LeaveInvoice`.

الحقول:
- invoice_number: رقم الفاتورة
- client: العميل الذي يدفع الفاتورة
- leave_type: نوع الإجازة
- leave_id: رقم الإجازة
- amount: مبلغ الفاتورة
- status: حالة الفاتورة
- issue_date: تاريخ إصدار الفاتورة
- due_date: تاريخ استحقاق الفاتورة
- notes: ملاحظات حول الفاتورة

## نماذج إدارة المدفوعات

### PaymentForm

هذا النموذج يستخدم لإنشاء وتعديل المدفوعات. يرث من `ModelForm` في Django ويستخدم نموذج `Payment`.

الحقول:
- payment_number: رقم الدفعة
- client: العميل الذي يدفع
- amount: مبلغ الدفعة
- payment_method: طريقة الدفع
- payment_date: تاريخ الدفع
- reference_number: رقم المرجع
- notes: ملاحظات حول الدفعة

### PaymentDetailForm

هذا النموذج يستخدم لإنشاء وتعديل تفاصيل المدفوعات. يرث من `ModelForm` في Django ويستخدم نموذج `PaymentDetail`.

الحقول:
- payment: الدفعة
- invoice: الفاتورة
- amount: المبلغ المخصص للفاتورة

## ميزات خاصة في النماذج

### التحقق من الصحة

تحتوي النماذج على وظائف للتحقق من صحة البيانات المدخلة، مثل:
- التحقق من عدم تكرار رقم الهوية للأطباء والمرضى
- التحقق من عدم تكرار رقم الهاتف للعملاء
- التحقق من صحة تواريخ الإجازات
- التحقق من عدم تجاوز مبلغ الدفعة للمبلغ المتبقي من الفاتورة

### التنسيق

تستخدم النماذج مكتبة `crispy_forms` لتنسيق النماذج بشكل جميل ومتناسق مع تصميم النظام.

### الترجمة

تستخدم النماذج وظيفة `gettext_lazy` لترجمة النصوص إلى اللغة العربية.
