# دليل تعبئة البيانات في نظام إدارة الإجازات المرضية

يوفر النظام أوامر مخصصة لتعبئة البيانات الأساسية والتجريبية في قاعدة البيانات. هذا الدليل يشرح كيفية استخدام هذه الأوامر.

## تعبئة البيانات الأساسية

يستخدم الأمر `seed_basic_data` لتعبئة البيانات الأساسية للنظام، مثل المستخدمين الأساسيين والمستشفيات وجهات العمل والأطباء والعملاء وأسعار الإجازات.

### استخدام الأمر

```bash
python manage.py seed_basic_data
```

### الخيارات

- `--force`: إجبار إعادة تعبئة البيانات حتى لو كانت موجودة.

### البيانات التي يتم إنشاؤها

1. **المستخدمون الأساسيون**:
   - مسؤول: اسم المستخدم: `admin`، كلمة المرور: `admin123`
   - طبيب: اسم المستخدم: `doctor`، كلمة المرور: `doctor123`
   - موظف: اسم المستخدم: `staff`، كلمة المرور: `staff123`

2. **المستشفيات**:
   - مجمع عيادات بسمة الرياض الطبي
   - مستشفى الملك فهد التخصصي
   - مستشفى الملك فيصل التخصصي

3. **جهات العمل**:
   - شركة الاتصالات السعودية
   - شركة أرامكو السعودية
   - شركة سابك
   - البنك الأهلي السعودي
   - مصرف الراجحي

4. **الأطباء**:
   - د. أحمد محمد (استشاري طب باطني)
   - د. سارة عبدالله (استشاري أمراض قلب)
   - د. خالد عبدالرحمن (استشاري جراحة عامة)
   - د. نورة سعد (استشاري أمراض نساء وولادة)
   - د. محمد فهد (استشاري أمراض عصبية)

5. **العملاء**:
   - شركة التأمين الوطنية
   - شركة التأمين التعاوني
   - شركة بوبا العربية للتأمين

6. **أسعار الإجازات**:
   - أسعار الإجازات المرضية (1، 2، 3، 5، 7، 10، 14، 30 يوم)
   - أسعار إجازات المرافقة (1، 2، 3، 5، 7، 10، 14، 30 يوم)

## تعبئة البيانات التجريبية

يستخدم الأمر `seed_demo_data` لتعبئة البيانات التجريبية للنظام، مثل المرضى والإجازات المرضية وإجازات المرافقين والفواتير والمدفوعات.

### استخدام الأمر

```bash
python manage.py seed_demo_data
```

### الخيارات

- `--patients`: عدد المرضى التجريبيين (الافتراضي: 20)
- `--sick-leaves`: عدد الإجازات المرضية التجريبية (الافتراضي: 30)
- `--companion-leaves`: عدد إجازات المرافقين التجريبية (الافتراضي: 15)
- `--invoices`: عدد الفواتير التجريبية (الافتراضي: 40)
- `--payments`: عدد المدفوعات التجريبية (الافتراضي: 25)
- `--force`: إجبار إعادة تعبئة البيانات حتى لو كانت موجودة.

### أمثلة

إنشاء 50 مريض و 100 إجازة مرضية:

```bash
python manage.py seed_demo_data --patients=50 --sick-leaves=100
```

إنشاء 30 إجازة مرافق و 50 فاتورة:

```bash
python manage.py seed_demo_data --companion-leaves=30 --invoices=50
```

إعادة تعبئة البيانات التجريبية حتى لو كانت موجودة:

```bash
python manage.py seed_demo_data --force
```

## ملاحظات هامة

1. يجب تشغيل الأمر `seed_basic_data` قبل تشغيل الأمر `seed_demo_data`، لأن البيانات التجريبية تعتمد على البيانات الأساسية.

2. إذا كنت ترغب في إعادة تعبئة البيانات من البداية، يمكنك حذف قاعدة البيانات وإعادة إنشائها، ثم تشغيل الأوامر بالترتيب التالي:

   ```bash
   python manage.py migrate
   python manage.py seed_basic_data
   python manage.py seed_demo_data
   ```

3. يمكنك تخصيص عدد البيانات التجريبية حسب احتياجاتك باستخدام الخيارات المتاحة.

4. إذا كنت ترغب في إضافة بيانات تجريبية إضافية بعد تشغيل الأمر `seed_demo_data`، يمكنك تشغيل الأمر مرة أخرى مع خيار `--force`.

## تفاصيل البيانات التجريبية

### المرضى التجريبيون

يتم إنشاء المرضى التجريبيين بأسماء عربية عشوائية (ذكور وإناث) وجنسيات مختلفة. يتم ربط بعض المرضى بجهات العمل الموجودة في النظام.

### الإجازات المرضية التجريبية

يتم إنشاء الإجازات المرضية التجريبية للمرضى الموجودين في النظام، مع تواريخ عشوائية خلال الـ 90 يوم الماضية. يتم تحديد مدة الإجازة بشكل عشوائي من بين المدد المتاحة (1، 2، 3، 5، 7، 10، 14، 30 يوم).

### إجازات المرافقين التجريبية

يتم إنشاء إجازات المرافقين التجريبية للمرضى الموجودين في النظام، مع تواريخ عشوائية خلال الـ 90 يوم الماضية. يتم اختيار مرافق عشوائي من بين المرضى الآخرين.

### الفواتير التجريبية

يتم إنشاء الفواتير التجريبية للإجازات الموجودة في النظام، مع تواريخ عشوائية خلال الـ 60 يوم الماضية. يتم تحديد المبلغ بناءً على نوع الإجازة ومدتها وفقًا لأسعار الإجازات الموجودة في النظام.

### المدفوعات التجريبية

يتم إنشاء المدفوعات التجريبية للفواتير الموجودة في النظام، مع تواريخ عشوائية بعد تاريخ إصدار الفاتورة. يتم تحديد المبلغ إما كامل المبلغ أو جزء منه، ويتم توزيع المبلغ على الفواتير المختارة.
